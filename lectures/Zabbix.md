# Zabbix

## Общие сведения
Существует много систем для мониторинга оборудования, операционных систем и информационных систем в целом. К ним относятся:
- большие коммерческие продукты (*MS System Center* или *IBM Tivoly*)
- ряд программ с открытым исходных кодом. 

Рассмотрим систему мониторинга Zabbix.

Для работы системы необходим сервер, занимающийся сбором данных и обработкой событий, сервер с СУБД (например mariadb или postgreSQL), где эти данные будут храниться. 

Поддерживаются следующие механизмы сбора данных:
 - специальный агент 
- протокол **SNMP** 
- протокол **JMX** 
- протокол **IPMI**

Для работы с серверами чаще всего используются **специальные агенты** (Zabbix Agent и Agent2, отличие в том, что агент2 написан на современном и быстром языке Go, поддерживает новые плагины, имеет буфер для хранения информации) потому что они предоставляют самый богатый функционал. 
- **SNMP** является стандартным для управления и сбора информации с устройств, подключенных к сети. В основном он используется для наблюдения за сетевым оборудованием, сетевыми принтерами и источниками бесперебойного питания. 
- **JMX** это протоколом для сбора информации о java машине и требует специальной настройки как со стороны сервера, так и со стороны дополнительной службы в zabbix. 
- **IPMI** - интерфейс для управления и мониторинга серверным оборудование. Он позволяет общаться с дополнительным блоком осуществляющим удалённую настройку, мониторинг и управление сервером.

Основываясь на собранных данных с наблюдаемых узлов zabbix может рассылать сообщения о проблемах оборудования, внештатных ситуациях, повышенной нагрузке и т.д. Рассылка оповещений производится с помощью электронной почты, мгновенных сообщений по протоколу **xmpp** или **sms**.

Также, можно посмотреть графики изменений наблюдаемых параметров по отдельности или в виде группы графиков.

Полученные данные можно использовать для:
- оценки бесперебойности работы системы
- поиска узких мест и оптимизации
- быстрого реагирования на возникшие на сервере проблемы

## Установка и настройка

Для работы системы обычно используется:
- сервер, занимающийся сбором данных, их обработкой и генерацией событий.
- СУБД для хранения данных
- агенты для сбора данных с серверов и рабочих станций.

Сбор данных с помощью протокола **SNMP** осуществляется сервером напрямую.

Сервер доступен только для *ОС Linux*, агенты доступны для *Linux*, *Windows* и *Unix*. 
Установка сервера производится с помощью пакетов для поддерживаемых дистрибутивов и проблем не представляет. Агенты в Linux ставятся аналогично, в *Windows*  требуются дополнительные действия для установки агента как службы. 

После установки в сервере необходимо настроить *СУБД* для хранения данных и пользователей, которые будут иметь доступ к веб-интерфейсу. У агентов необходимо настроить имя и адрес сервера. Для того, чтобы данные с агентов собирались на сервере необходимо создать узлы сети с именем, совпадающим с указанным в конфигурации агентов и указать, какие данные будут собираться. Это производится либо с помощью создания элементов данных, либо с помощью назначения узлу одного из шаблонов.

Помимо элементов данных можно создавать их графики и объединять в комплексные экраны.
