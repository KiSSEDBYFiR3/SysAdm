# Работа в командном интерпритаторе bash и команды для базовой настройки

## Командные интерпретаторы
Существует два варианта построения пользовательского интерфейса - графический (GUI) и командной строки (CLI) - интерфейс командной строки он же терминал.

Графический интерфейс является интуитивно понятным для рядового пользователя и позволяет значительно быстрее освоить управление компьютером. 
Но GUI является более сложным в разработке и требует большего количества вычислительных ресурсов. 
CLI строится на взаимодействие с ЭВМ с помощью ввода текстовых строк, содержащих команду и её параметры. 
Данный подход требует знания команд и особенностей их работы и более долгого периода обучения. Благодаря взаимодействию с ЭВМ с помощью текстовых строк интерфейс командной строки позволяет очень легко производить автоматизация частых или массовых действий. 
Для этого можно использовать скрипты, содержащие последовательность команд и управляющие конструкции, схожие с высокоуровневыми языками программирования. Примером таких конструкция могут служить циклы и условные переходы. 

По сути интерфейс командной строки представляет из себя язык программирования относительно* высокого уровня с развитыми средствами взаимодействия с операционной системой для осуществления операций с файлами, запуска программ и завершения работы программ. 
(Современные языки программирования по типу Python, Kotlin,  JS, в какой-то степени Dart являются более интуитивно понятными и большинство действий для которых в bash потребуется написать целый скрипт там выполняются всего в несколько строк кода. Bash в данном случае, скорее схож с языками C, C++, которые в современных реалиях многими считаются низкоуровневыми)
Для работы такого интерфейса требуется специальная программа - интерпретатор командной строки.  
Существует множество интерпретаторов. В операционных системах Microsoft это cmd и PowerShell, в unix системах - bash, dash, ksh, csh, zsh и другие. 
В случае с unix системами базовые возможности интерпретаторов совпадают, отличаются они лишь дополнительными функциями, которые применяются в основном лишь для написания сложных скриптов.

## Основные команды для работы в терминале
- `cd` - смена текущего каталога
- `ls` - просмотр содержимого каталога
- `rm` - удаление файла или иного объекта
- `mkdir` - создание директории
- `rmdir` - удаление директории
- `find` - поиск объектов в файловой системе
- `nano` - текстовый редактор, наверное, самый популярный в системах Linux
- `man` - показывает страницы с мануалом по какой-либо программе

Для запуска скомпилированной программы необходимо указать её путь через точку перед названием : `./prog.bin`  

## Сетевые настройки
Для ручного управления сетевыми настройками используется утилита `ip`. У неё есть обязательный параметр, который указывает, с какими настройками мы хотим работать. 

- `ip addr` работает с адресами для IP протокола
- `ip link` с настройками протоколов канального уровня
- `ip route` с маршрутами.
- 
Без параметров приведённые команды выводят информацию о настройках.

- `ipconfig` - устаревший аналог ip
- `arp` - утилита для работы с протоколом arp. Может понадобится для просмотра содержимого arp кеша и его очистки.
- `ping` позволяет проверить, доходит ли до удалённого узла специальный диагностический пакет. 
- `traceroute` использует аналогичные сетевые пакеты, что и ping, но позволяет просмотреть все промежуточные маршрутизаторы на пути к удалённой машине.
- `nslookup` используется для проверки службы DNS,  посредством обращения к DNS серверу и преобразование из IP адреса в символьное имя и обратно или запрос к записям типа `srv` или `mx`.

## Работа с пользователями.

Работа с пользователями и группами осуществляется командами `adduser`/`addgroup`/`deluser`/`useradd`/`usermod`

Изменение паролей - `passwd`. 

Создание хешей паролей - `mkpasswd`.


## Дополнительные возможности

Часть настроек можно передавать программам в виде переменных окружения. Чтобы задать переменную окружения необходимо использовать команду `export`:

`export MYVAR=value`

Выбор имени переменных имеет те же правила, что и для объектов файловой системы. Чаще всего переменные окружения задаются прописными буквами, но это не является обязательным условием. Для использования переменных окружения в качестве параметров команд или в других конструкциях используется запись их имени с префиксом $:

`echo $MYVAR`

Для отслеживания запущенных программ и их активности в linux используются утилиты - `ps` и `top`. 
- `ps` - выводит список запущенных процессов.
- `top` - обновляет информацию каждые 3 секунды по умолчанию

Список процессов, показываемый утилитой `top`, по умолчанию отсортирован по потреблению ресурсов процессора и позволяет быстро найти программу, потребляющую слишком много ресурсов.

**bash** позволяет организовать работу с несколькими программами одновременно. Для отправки программы в фоновый режим используется комбинация клавиш `Ctrl-Z`. 

- `jobs` -утилита для просмотра запущенных в фоне программ   
- `fg` - с помощью данной утилиты можно подключиться к запущенной в фоне программе и продолжить работу с ней. 

При выходе из текущей сессии терминала все запущенные из неё программы будут закрыты.
стандартные потоки и передачи их между программами. Операторы >>, >, <, <<, |
- `Grep` - работа с историей

## Права доступа к объектам файловой системы

В Linux права доступа к объектам файловой системы делятся на три группы - для владельца, группы и всех остальных. 

В каждой из груп может быть 3 бита доступа: на чтение (r), запись и изменение (w) и выполение (x). Посмотреть текущие права доступа к файлу можно с помощью команды `ls` с параметром -l.

Модифицировать права доступа можно с помощью утилиты `chmod`, изменять владельца и группу, которой принадлежит файл, с помощью `chown`.

- `chown` в качестве параметра передаётся имя нового владельца и/или новой группы, которой он будет принадлежать и имя объекта файловой системы, для которой производится это изменений. Например:

`chown vasya:students secretfile.txt`

- `chmod`  в качестве параметров передаются изменения в текущих правах для каждой из трёх групп доступа или для всех сразу. Например, для снятия бита выполнения для владельца, группы и всех прочих пользователей используется команда:

`chmod a-x document.txt`

Для добавления права на выполнение для владельца, добавления прав редактирования для группы и снятия всех прав для всех прочих:

`chmod u+x,g+w,o-rwx somescript.sh`
